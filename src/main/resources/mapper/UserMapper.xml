<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.example.capp.mapper.UserMapper">

    <resultMap id="BaseResultMap" type="com.example.capp.dto.User">
        <result column="id" property="id"/>
        <result column="username" property="username"/>
        <result column="password" property="password"/>
        <result column="screen_name" property="screenName"/>
        <result column="email" property="email"/>
        <result column="avatar" property="avatar"/>
        <result column="home_url" property="homeUrl"/>
        <result column="last_activated" property="lastActivated"/>
        <result column="last_logged" property="lastLogged"/>
        <result column="group_name" property="groupName"/>
    </resultMap>

    <!--通过用户名获取用户信息-->
    <select id="selectByUsername" resultMap="BaseResultMap">
      select *
      from tl_user
      where username = #{username}
    </select>

    <!--通过用户名和密码获取用户信息-->
    <select id="getUserInfoByCond" resultMap="BaseResultMap">
        SELECT *
        FROM tl_user
        <where>
            <if test="username != null">
                AND username = #{username}
            </if>
            <if test="password != null">
                AND password = #{password}
            </if>
        </where>

    </select>


    <!--<update id="update" parameterType="com.example.demo.dto.Test">-->
        <!--update fce_test-->
        <!--<set>-->
            <!--<if test="name!=null">name=#{name},</if>-->
            <!--<if test="age!=null">age=#{age},</if>-->
            <!--<if test="birthday!=null">birthday=#{birthday},</if>-->
            <!--<if test="hobby!=null">hobby=#{hobby},</if>-->
            <!--<if test="salary!=null">salary=#{salary},</if>-->
        <!--</set>-->
        <!--where id=#{id}-->

    <!--</update>-->

</mapper>